
<!DOCTYPE html>
<html lang="en">
<head>


    <meta charset="utf-8">
    <title>Spafy - Login</title>

    {% load static %} 

    <link rel="stylesheet" href="{% static '/Prowebfase4App/css/reporte.css' %}" >
    <link rel="stylesheet" href="{% static '/Prowebfase4App/css/styles.css' %}" >
    <script type="text/javascript" src="{% static '/Prowebfase4App/js/validacionFServicios.js' %}"></script>
    


</head>
<body>

    

<body>
    



    <!-- Inicio login. -->

<form name="solicitud" >
    <h2 id="log_id">Login</h2>                          <!-- Estructura del login. -->
                                                            

    <div class="row">
        <label>Correo Electr칩nico</label>
        <input type="email" name="C_electronico">
        <div class="error" id="C_invalido"></div>
    </div>
   

    <div class="row">
      <label>Contrase침a</label>
      <input type="password" name="Clave" maxlength="11">
      <div class="error" id="Clave_invalido"></div>
    </div>


 
    <div class="row">
        <input type="button" onclick="login()" value="Crear Login">
    </div>



</form>

</body>




<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.9/firebase-app.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBxFVhUaO7gtWtrl-qb4WU1ipe5bbCkGbM",
      authDomain: "prweb-17a61.firebaseapp.com",
      databaseURL: "https://prweb-17a61-default-rtdb.firebaseio.com",
      projectId: "prweb-17a61",
      storageBucket: "prweb-17a61.appspot.com",
      messagingSenderId: "689453042985",
      appId: "1:689453042985:web:05080ac578dcf60841fb38"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
  </script>





 <!-- Inicio -    Funciones script para autenticar usuario y contrase침a. -->
<script>

import { getAuth, onAuthStateChanged } from "firebase/auth";

const auth = getAuth();
onAuthStateChanged(auth, (user) => {
  if (user) {
   
    const uid = user.uid;

    const user = auth.currentUser;
        
        if (user != null) {

            var cuenta = user.email;

            document.getElementById("log_id").innerHTML = "Cuenta creada: " + cuenta;


        }

  } else {
 
  }
});



import { getAuth, signInWithEmailAndPassword } from "firebase/auth";

function login(){

    var useremail = document.getElementById("C_invalido").value;
    var userpass = document.getElementById("Clave_invalido").value;

    



    const auth = getAuth();
    signInWithEmailAndPassword(auth, useremail, userpass)
        .then((userCredential) => {
   
            const user = userCredential.user;

    })
    .catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;


        window.alert("Aviso: " + errorMessage);

    });


}


</script>

 <!-- Fin -    Funciones script para autenticar usuario y contrase침a. -->



</body>
</html>

 <!-- Fin login. -->











    


  
  